(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{308:function(s,t,a){"use strict";a.r(t);var r=a(14),e=Object(r.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h3",{attrs:{id:"実務で使えるlinux-入門編"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#実務で使えるlinux-入門編"}},[s._v("#")]),s._v(" 実務で使えるLinux 入門編")]),s._v(" "),t("h1",{attrs:{id:"演習3【アカウント管理】"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#演習3【アカウント管理】"}},[s._v("#")]),s._v(" 演習3【アカウント管理】")]),s._v(" "),t("h2",{attrs:{id:"概要"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#概要"}},[s._v("#")]),s._v(" 概要")]),s._v(" "),t("ul",[t("li",[s._v("システム管理作業で必要となる、ユーザーとグループの管理作業を学びます")]),s._v(" "),t("li",[s._v("2章で学んだパーミッションの効果もこちらで確認します")])]),s._v(" "),t("h2",{attrs:{id:"所要時間"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#所要時間"}},[s._v("#")]),s._v(" 所要時間")]),s._v(" "),t("p",[s._v("40分")]),s._v(" "),t("h2",{attrs:{id:"実施内容"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#実施内容"}},[s._v("#")]),s._v(" 実施内容")]),s._v(" "),t("ul",[t("li",[s._v("ユーザーとグループの状況確認")]),s._v(" "),t("li",[s._v("新規ユーザーの作成とユーザーの変更")]),s._v(" "),t("li",[s._v("パーミッションの動作確認")]),s._v(" "),t("li",[s._v("グループの動作確認")])]),s._v(" "),t("h2",{attrs:{id:"演習手順"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#演習手順"}},[s._v("#")]),s._v(" 演習手順")]),s._v(" "),t("h3",{attrs:{id:"演習-ユーザーとグループの状況確認"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#演習-ユーザーとグループの状況確認"}},[s._v("#")]),s._v(" 演習：ユーザーとグループの状況確認")]),s._v(" "),t("h4",{attrs:{id:"_1-現在ログインしているユーザーの情報を詳細に表示してください。少なくともユーザーidと所属グループは表示してください"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-現在ログインしているユーザーの情報を詳細に表示してください。少なくともユーザーidと所属グループは表示してください"}},[s._v("#")]),s._v(" 1. 現在ログインしているユーザーの情報を詳細に表示してください。少なくともユーザーIDと所属グループは表示してください")]),s._v(" "),t("details",{staticClass:"custom-block details"},[t("summary",[s._v("解答例")]),s._v(" "),t("p",[s._v("id")])]),s._v(" "),t("h4",{attrs:{id:"_2-演習環境のlinuxに登録済みのユーザー一覧を表示してください。方法は問いません"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-演習環境のlinuxに登録済みのユーザー一覧を表示してください。方法は問いません"}},[s._v("#")]),s._v(" 2. 演習環境のLinuxに登録済みのユーザー一覧を表示してください。方法は問いません")]),s._v(" "),t("details",{staticClass:"custom-block details"},[t("summary",[s._v("解答例")]),s._v(" "),t("p",[s._v("cat /etc/passwd")])]),s._v(" "),t("h4",{attrs:{id:"_3-演習環境のlinuxに登録済みのグループ一覧を表示してください。方法は問いません"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-演習環境のlinuxに登録済みのグループ一覧を表示してください。方法は問いません"}},[s._v("#")]),s._v(" 3. 演習環境のLinuxに登録済みのグループ一覧を表示してください。方法は問いません")]),s._v(" "),t("details",{staticClass:"custom-block details"},[t("summary",[s._v("解答例")]),s._v(" "),t("p",[s._v("cat /etc/group")])]),s._v(" "),t("h4",{attrs:{id:"_4-次は、ec2-userが所属しているグループだけを表示してください。方法は問いません"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-次は、ec2-userが所属しているグループだけを表示してください。方法は問いません"}},[s._v("#")]),s._v(" 4. 次は、ec2-userが所属しているグループだけを表示してください。方法は問いません")]),s._v(" "),t("details",{staticClass:"custom-block details"},[t("summary",[s._v("解答例")]),s._v(" "),t("p",[s._v("cat /etc/group|grep ec2-user")])]),s._v(" "),t("h3",{attrs:{id:"演習-新規ユーザーの作成"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#演習-新規ユーザーの作成"}},[s._v("#")]),s._v(" 演習：新規ユーザーの作成")]),s._v(" "),t("h4",{attrs:{id:"_1-以降の作業は、当面-root-ユーザ−で実施します。以下のコマンドでrootユーザーになってください。パスワードは不要です-ec2-userはパスワードなしでsudoが実行できるよう設定済みです"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-以降の作業は、当面-root-ユーザ−で実施します。以下のコマンドでrootユーザーになってください。パスワードは不要です-ec2-userはパスワードなしでsudoが実行できるよう設定済みです"}},[s._v("#")]),s._v(" 1. 以降の作業は、当面 root ユーザ−で実施します。以下のコマンドでrootユーザーになってください。パスワードは不要です（ec2-userはパスワードなしでsudoが実行できるよう設定済みです）")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("sudo su -\n")])])]),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),t("p",[s._v("ディストリビューションや設定によって rootユーザーへの変更方法は異なります。また、rootユーザーにパスワードが設定されてないこともあります。その場合はsudoコマンドでのみroot権限を行使できます。rootユーザーにパスワードが設定されていないのはセキュリティ上の利用のため、むやみにパスワードは設定しないほうがよいです")])]),s._v(" "),t("h4",{attrs:{id:"_2-user1-という新規ユーザーを作成してください。ホームディレクトリはユーザー名と同じ、シェルはbash、グループの指定は不要です。"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-user1-という新規ユーザーを作成してください。ホームディレクトリはユーザー名と同じ、シェルはbash、グループの指定は不要です。"}},[s._v("#")]),s._v(" 2. user1 という新規ユーザーを作成してください。ホームディレクトリはユーザー名と同じ、シェルはBash、グループの指定は不要です。")]),s._v(" "),t("details",{staticClass:"custom-block details"},[t("summary",[s._v("解答例")]),s._v(" "),t("p",[s._v("useradd user1 -m -s /bin/bash")])]),s._v(" "),t("h4",{attrs:{id:"_3-ユーザーが作成されたことを確認してください。方法は問いません"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-ユーザーが作成されたことを確認してください。方法は問いません"}},[s._v("#")]),s._v(" 3. ユーザーが作成されたことを確認してください。方法は問いません")]),s._v(" "),t("details",{staticClass:"custom-block details"},[t("summary",[s._v("解答例")]),s._v(" "),t("p",[s._v("cat /etc/passwd")])]),s._v(" "),t("h4",{attrs:{id:"_4-exitコマンドを実行して、ec2-userに戻ってください"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-exitコマンドを実行して、ec2-userに戻ってください"}},[s._v("#")]),s._v(" 4. exitコマンドを実行して、ec2-userに戻ってください")]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),t("p",[s._v("suコマンドでユーザーを変更すると、そのユーザーで新たにシェルが起動しています。exitコマンドでそのシェルを終了させることで、元のユーザーに戻ることができます")])]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),t("p",[s._v("以降の作業でroot権限が必要な場合は、rootユーザーへの変更ではなくsudoコマンドを使っても構いません。実際の業務では、root権限の利用を許可していないこともありますので現場のルールを確認してください")])]),s._v(" "),t("h4",{attrs:{id:"_5-ec2-user-に戻ったことが確認できたら、user1ユーザーに切り替えてください"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-ec2-user-に戻ったことが確認できたら、user1ユーザーに切り替えてください"}},[s._v("#")]),s._v(" 5. ec2-user に戻ったことが確認できたら、user1ユーザーに切り替えてください")]),s._v(" "),t("details",{staticClass:"custom-block details"},[t("summary",[s._v("解答例")]),s._v(" "),t("p",[s._v("su - user1\n"),t("br"),s._v("\nしかし結果は、、、")])]),s._v(" "),t("h4",{attrs:{id:"_6-前のコマンドは失敗するか、作業が完了できなかったと思います。なぜでしょうか"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-前のコマンドは失敗するか、作業が完了できなかったと思います。なぜでしょうか"}},[s._v("#")]),s._v(" 6. 前のコマンドは失敗するか、作業が完了できなかったと思います。なぜでしょうか？")]),s._v(" "),t("details",{staticClass:"custom-block details"},[t("summary",[s._v("解答例")]),s._v(" "),t("p",[s._v("user1にはパスワードが設定されていないため、ログインができない")])]),s._v(" "),t("h4",{attrs:{id:"_7-user1にパスワードを設定してください。パスワードは忘れなければ何でも構いません-password-など-。ただし、現在ec2-userのため、権限を変更しないと作業出来ないはずです。"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7-user1にパスワードを設定してください。パスワードは忘れなければ何でも構いません-password-など-。ただし、現在ec2-userのため、権限を変更しないと作業出来ないはずです。"}},[s._v("#")]),s._v(" 7. user1にパスワードを設定してください。パスワードは忘れなければ何でも構いません（password など）。ただし、現在ec2-userのため、権限を変更しないと作業出来ないはずです。")]),s._v(" "),t("details",{staticClass:"custom-block details"},[t("summary",[s._v("解答例")]),s._v(" "),t("p",[s._v("sudo passwd user1")])]),s._v(" "),t("div",{staticClass:"custom-block danger"},[t("p",{staticClass:"custom-block-title"},[s._v("DANGER")]),s._v(" "),t("p",[s._v("通常、password のような簡単なパスワードの利用は現場で許可されていません。演習環境はインターネットなど外部からは遮断されているため特別に許可されていると考えてください")])]),s._v(" "),t("h4",{attrs:{id:"_8-無事パスワードの変更ができたら、user1ユーザーに変更してください"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_8-無事パスワードの変更ができたら、user1ユーザーに変更してください"}},[s._v("#")]),s._v(" 8. 無事パスワードの変更ができたら、user1ユーザーに変更してください")]),s._v(" "),t("details",{staticClass:"custom-block details"},[t("summary",[s._v("解答例")]),s._v(" "),t("p",[s._v("su - user1")])]),s._v(" "),t("h3",{attrs:{id:"演習-パーミッションとグループ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#演習-パーミッションとグループ"}},[s._v("#")]),s._v(" 演習：パーミッションとグループ")]),s._v(" "),t("h4",{attrs:{id:"_1-user1とec2-userで共有したいファイルやディレクトリがあるとします。ひとまず、ec2-userのホームディレクトリの内容を表示してください。結果はどうでしたか"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-user1とec2-userで共有したいファイルやディレクトリがあるとします。ひとまず、ec2-userのホームディレクトリの内容を表示してください。結果はどうでしたか"}},[s._v("#")]),s._v(" 1. user1とec2-userで共有したいファイルやディレクトリがあるとします。ひとまず、ec2-userのホームディレクトリの内容を表示してください。結果はどうでしたか？")]),s._v(" "),t("details",{staticClass:"custom-block details"},[t("summary",[s._v("解答例")]),s._v(" "),t("p",[s._v("ls /home/ec2-user\n"),t("br"),s._v("\n上記を実行しても、許可がないというエラーで参照できない")])]),s._v(" "),t("h4",{attrs:{id:"_2-問題を解決するために必要な手続きを考えてください。考えた後、解答例を見てください"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-問題を解決するために必要な手続きを考えてください。考えた後、解答例を見てください"}},[s._v("#")]),s._v(" 2. 問題を解決するために必要な手続きを考えてください。考えた後、解答例を見てください")]),s._v(" "),t("details",{staticClass:"custom-block details"},[t("summary",[s._v("解答例")]),s._v(" "),t("p",[s._v("ec2-userとuser1を同じグループに所属させる\n"),t("br"),s._v("\nそのグループで利用できるパーミッションを持つ共有のディレクトリを用意する")])]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),t("p",[s._v("ec2-userのディレクトリ内に他のユーザーからアクセスできるディレクトリを作るという手法もあります。しかしホームディレクトリは一般的にそのユーザー専用のディレクトリであるため、別途共有用のディレクトリを用意することが多いです")])]),s._v(" "),t("h4",{attrs:{id:"_3-以降の作業はroot権限が必要なものがあります。rootユーザーで行ってもsudoコマンドを利用してもどちらでも構いません"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-以降の作業はroot権限が必要なものがあります。rootユーザーで行ってもsudoコマンドを利用してもどちらでも構いません"}},[s._v("#")]),s._v(" 3. 以降の作業はroot権限が必要なものがあります。rootユーザーで行ってもsudoコマンドを利用してもどちらでも構いません")]),s._v(" "),t("h4",{attrs:{id:"_4-ec-2userとuser1を所属させるグループを作成してください。グループ名は「common」としてください"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-ec-2userとuser1を所属させるグループを作成してください。グループ名は「common」としてください"}},[s._v("#")]),s._v(" 4. ec-2userとuser1を所属させるグループを作成してください。グループ名は「common」としてください")]),s._v(" "),t("h4",{attrs:{id:"_1-共有ディレクトリを作成します。-optディレクトリ内に-shared-ディレクトリを作成してください"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-共有ディレクトリを作成します。-optディレクトリ内に-shared-ディレクトリを作成してください"}},[s._v("#")]),s._v(" 1. 共有ディレクトリを作成します。/optディレクトリ内に shared ディレクトリを作成してください")]),s._v(" "),t("h4",{attrs:{id:"_1-opt-sharedディレクトリのグループを、commonグループに変更してください"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-opt-sharedディレクトリのグループを、commonグループに変更してください"}},[s._v("#")]),s._v(" 1. /opt/sharedディレクトリのグループを、commonグループに変更してください")]),s._v(" "),t("h4",{attrs:{id:"_1-ディレクトリのグループのパーミッションを-rwx-に変更してください"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-ディレクトリのグループのパーミッションを-rwx-に変更してください"}},[s._v("#")]),s._v(" 1. ディレクトリのグループのパーミッションを rwx に変更してください")]),s._v(" "),t("h4",{attrs:{id:"_1-これまでの作業結果に問題がないことを確認してください。確認の方法は問いません"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-これまでの作業結果に問題がないことを確認してください。確認の方法は問いません"}},[s._v("#")]),s._v(" 1. これまでの作業結果に問題がないことを確認してください。確認の方法は問いません")]),s._v(" "),t("h4",{attrs:{id:"_1-ec2-userとuser1を、common-グループに参加させてください"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-ec2-userとuser1を、common-グループに参加させてください"}},[s._v("#")]),s._v(" 1. ec2-userとuser1を、common グループに参加させてください")]),s._v(" "),t("h4",{attrs:{id:"_1-opt-sharedディレクトリに、何でもよいのでファイルを作成し、作成されたことを確認してください。うまくできたでしょうか"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-opt-sharedディレクトリに、何でもよいのでファイルを作成し、作成されたことを確認してください。うまくできたでしょうか"}},[s._v("#")]),s._v(" 1. /opt/sharedディレクトリに、何でもよいのでファイルを作成し、作成されたことを確認してください。うまくできたでしょうか？")]),s._v(" "),t("h4",{attrs:{id:"_1-idコマンドでユーザーの情報を表示し、うまく行かなかった原因を考えて、対処しましょう"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-idコマンドでユーザーの情報を表示し、うまく行かなかった原因を考えて、対処しましょう"}},[s._v("#")]),s._v(" 1. idコマンドでユーザーの情報を表示し、うまく行かなかった原因を考えて、対処しましょう")]),s._v(" "),t("h4",{attrs:{id:"_1-再度-opt-sharedディレクトリにファイルを作成してみてください。今度はうまくいくはずです"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-再度-opt-sharedディレクトリにファイルを作成してみてください。今度はうまくいくはずです"}},[s._v("#")]),s._v(" 1. 再度/opt/sharedディレクトリにファイルを作成してみてください。今度はうまくいくはずです")]),s._v(" "),t("h4",{attrs:{id:"_1-user1にユーザーを変更し、-opt-sharedディレクトリにファイルを作成してみてください"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-user1にユーザーを変更し、-opt-sharedディレクトリにファイルを作成してみてください"}},[s._v("#")]),s._v(" 1. user1にユーザーを変更し、/opt/sharedディレクトリにファイルを作成してみてください")]),s._v(" "),t("h4",{attrs:{id:"_1-ec2-userに戻り、user1をディレクトリも含めて削除しておいてください"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-ec2-userに戻り、user1をディレクトリも含めて削除しておいてください"}},[s._v("#")]),s._v(" 1. ec2-userに戻り、user1をディレクトリも含めて削除しておいてください")]),s._v(" "),t("ul",[t("li",[s._v("以上で演習3は終了です。お疲れ様でした。早く終わった方は、復習や周りのメンバーのヘルプを行いましょう")])]),s._v(" "),t("hr"),s._v(" "),t("p",[t("RouterLink",{attrs:{to:"/intro/"}},[s._v("入門編の目次に戻る")]),s._v(" "),t("br")],1),s._v(" "),t("p",[t("RouterLink",{attrs:{to:"/"}},[s._v("トップページに戻る")])],1)])}),[],!1,null,null,null);t.default=e.exports}}]);