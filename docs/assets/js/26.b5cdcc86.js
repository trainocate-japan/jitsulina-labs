(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{309:function(t,s,a){"use strict";a.r(s);var r=a(14),e=Object(r.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[s("RouterLink",{attrs:{to:"/intro/"}},[t._v("入門編の目次に戻る")])],1),t._v(" "),s("h3",{attrs:{id:"実務で使えるlinux-入門編-演習手順"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#実務で使えるlinux-入門編-演習手順"}},[t._v("#")]),t._v(" 実務で使えるLinux 入門編 演習手順")]),t._v(" "),s("h1",{attrs:{id:"演習2【基本的なシェルの操作】"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#演習2【基本的なシェルの操作】"}},[t._v("#")]),t._v(" 演習2【基本的なシェルの操作】")]),t._v(" "),s("h2",{attrs:{id:"概要"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#概要"}},[t._v("#")]),t._v(" 概要")]),t._v(" "),s("ul",[s("li",[t._v("ワイルドカードによる複数ファイルの一括処理方法を学びます")]),t._v(" "),s("li",[t._v("リダイレクションとパイプライン、連続実行による効率的なコマンド利用方法を学びます")]),t._v(" "),s("li",[t._v("エイリアスの利用方法を学びます")])]),t._v(" "),s("h2",{attrs:{id:"所要時間"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#所要時間"}},[t._v("#")]),t._v(" 所要時間")]),t._v(" "),s("p",[t._v("30分")]),t._v(" "),s("h2",{attrs:{id:"実施内容"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#実施内容"}},[t._v("#")]),t._v(" 実施内容")]),t._v(" "),s("ul",[s("li",[t._v("演習：ワイルドカードの操作")]),t._v(" "),s("li",[t._v("演習：出力リダイレクション（標準エラーの取り扱い）")]),t._v(" "),s("li",[t._v("演習：出力リダイレクション（標準出力の取り扱い）")]),t._v(" "),s("li",[t._v("演習：パイプライン")]),t._v(" "),s("li",[t._v("演習：コマンドの連続実行")]),t._v(" "),s("li",[t._v("演習：エイリアス")])]),t._v(" "),s("h2",{attrs:{id:"演習手順"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#演習手順"}},[t._v("#")]),t._v(" 演習手順")]),t._v(" "),s("h3",{attrs:{id:"演習-ワイルドカードの操作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#演習-ワイルドカードの操作"}},[t._v("#")]),t._v(" 演習：ワイルドカードの操作")]),t._v(" "),s("h4",{attrs:{id:"_1-ホームディレクトリに、lab2というディレクトリを作成してください。作成できたら、そのディレクトリに移動してください"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-ホームディレクトリに、lab2というディレクトリを作成してください。作成できたら、そのディレクトリに移動してください"}},[t._v("#")]),t._v(" 1. ホームディレクトリに、lab2というディレクトリを作成してください。作成できたら、そのディレクトリに移動してください")]),t._v(" "),s("details",{staticClass:"custom-block details"},[s("summary",[t._v("解答例")]),t._v(" "),s("p",[t._v("cd\n"),s("br"),t._v("\nmkdir lab2\n"),s("br"),t._v("\ncd lab2")])]),t._v(" "),s("h4",{attrs:{id:"_1-etcディレクトリにある、拡張子が-conf-となっているファイルを全て、詳細情報も含めて表示してください"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-etcディレクトリにある、拡張子が-conf-となっているファイルを全て、詳細情報も含めて表示してください"}},[t._v("#")]),t._v(" 1. /etcディレクトリにある、拡張子が .conf となっているファイルを全て、詳細情報も含めて表示してください")]),t._v(" "),s("details",{staticClass:"custom-block details"},[s("summary",[t._v("解答例")]),t._v(" "),s("p",[t._v("ls -l /etc/*.conf")])]),t._v(" "),s("h4",{attrs:{id:"_1-etcディレクトリにある、拡張子が-conf-となっているファイルを全て、カレントディレクトリにコピーしてください。サブディレクトリまでは不要です"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-etcディレクトリにある、拡張子が-conf-となっているファイルを全て、カレントディレクトリにコピーしてください。サブディレクトリまでは不要です"}},[t._v("#")]),t._v(" 1. /etcディレクトリにある、拡張子が .conf となっているファイルを全て、カレントディレクトリにコピーしてください。サブディレクトリまでは不要です")]),t._v(" "),s("details",{staticClass:"custom-block details"},[s("summary",[t._v("解答例")]),t._v(" "),s("p",[t._v("cp /etc/*.conf .")])]),t._v(" "),s("h3",{attrs:{id:"演習-出力リダイレクション-標準エラーの取り扱い"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#演習-出力リダイレクション-標準エラーの取り扱い"}},[t._v("#")]),t._v(" 演習：出力リダイレクション（標準エラーの取り扱い）")]),t._v(" "),s("h4",{attrs:{id:"_1-ファイルコピーのコマンドを実行すると「許可がありません」というエラーが出ました。もう一度ファイルのコピーを実施し、エラーを-errors-log-ファイルに保管してください。再実行には、シェルのヒストリ機能を使ってください"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-ファイルコピーのコマンドを実行すると「許可がありません」というエラーが出ました。もう一度ファイルのコピーを実施し、エラーを-errors-log-ファイルに保管してください。再実行には、シェルのヒストリ機能を使ってください"}},[t._v("#")]),t._v(" 1. ファイルコピーのコマンドを実行すると「許可がありません」というエラーが出ました。もう一度ファイルのコピーを実施し、エラーを errors.log ファイルに保管してください。再実行には、シェルのヒストリ機能を使ってください")]),t._v(" "),s("details",{staticClass:"custom-block details"},[s("summary",[t._v("解答例")]),t._v(" "),s("p",[t._v("カーソルキーの上でコマンドを選択\n"),s("br"),t._v("\n表示されたコマンドに 2> errors.log を追加して実行（2の前にスペースを忘れないこと）\n"),s("br"),t._v("\n（実行されるコマンドは cp /etc/*.conf . 2> errors.log）")])]),t._v(" "),s("h4",{attrs:{id:"_1-コマンド実行時のエラーは、表示やファイルへの保管が不要なことがあります。その際は、-dev-null-ファイルに出力すると表示も保管もせず消すことが出来ます。今度はエラーを消去してみましょう"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-コマンド実行時のエラーは、表示やファイルへの保管が不要なことがあります。その際は、-dev-null-ファイルに出力すると表示も保管もせず消すことが出来ます。今度はエラーを消去してみましょう"}},[t._v("#")]),t._v(" 1. コマンド実行時のエラーは、表示やファイルへの保管が不要なことがあります。その際は、/dev/null ファイルに出力すると表示も保管もせず消すことが出来ます。今度はエラーを消去してみましょう")]),t._v(" "),s("details",{staticClass:"custom-block details"},[s("summary",[t._v("解答例")]),t._v(" "),s("p",[t._v("cp /etc/*.conf . 2> /dev/null")])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("/dev/null は特殊なファイルで、書き込まれたデータを全て廃棄し、読み出しても何も返しません。コマンドの出力結果やエラーを破棄する場合や、ファイルを空にしたいときによく使います")])]),t._v(" "),s("h3",{attrs:{id:"演習-出力リダイレクション-標準出力の取り扱い"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#演習-出力リダイレクション-標準出力の取り扱い"}},[t._v("#")]),t._v(" 演習：出力リダイレクション（標準出力の取り扱い）")]),t._v(" "),s("h4",{attrs:{id:"_1-lab2ディレクトリ内のファイル一覧を、files-txt-に取得します。その前に、files-txtに現在時刻とユーザー名を記録してください。ユーザー名を取得するコマンドは問いません"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-lab2ディレクトリ内のファイル一覧を、files-txt-に取得します。その前に、files-txtに現在時刻とユーザー名を記録してください。ユーザー名を取得するコマンドは問いません"}},[t._v("#")]),t._v(" 1. lab2ディレクトリ内のファイル一覧を、files.txt に取得します。その前に、files.txtに現在時刻とユーザー名を記録してください。ユーザー名を取得するコマンドは問いません")]),t._v(" "),s("details",{staticClass:"custom-block details"},[s("summary",[t._v("解答例")]),t._v(" "),s("p",[t._v("date > files.txt\n"),s("br"),t._v("\nid >> files.txt")])]),t._v(" "),s("h4",{attrs:{id:"_1-lab2ディレクトリ内の詳細なファイル一覧を、files-txt-に追記してください。正しく保存できているかも確認してください。ファイルの先頭に、時刻と作業者情報が記載されていることも確認してください"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-lab2ディレクトリ内の詳細なファイル一覧を、files-txt-に追記してください。正しく保存できているかも確認してください。ファイルの先頭に、時刻と作業者情報が記載されていることも確認してください"}},[t._v("#")]),t._v(" 1. lab2ディレクトリ内の詳細なファイル一覧を、files.txt に追記してください。正しく保存できているかも確認してください。ファイルの先頭に、時刻と作業者情報が記載されていることも確認してください")]),t._v(" "),s("details",{staticClass:"custom-block details"},[s("summary",[t._v("解答例")]),t._v(" "),s("p",[t._v("ls -l . >> files.txt\n"),s("br"),t._v("\ncat files.txt")])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("リダイレクトをうまく使うと、作業結果のファイル（今回の場合はファイル一覧の取得）に作業時間や作業者名を残すことができます")])]),t._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),s("p",[t._v("リダイレクトを間違えて上書きした場合は、時刻とユーザー名の記載からやりなおしてください")])]),t._v(" "),s("h3",{attrs:{id:"演習-パイプライン"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#演習-パイプライン"}},[t._v("#")]),t._v(" 演習：パイプライン")]),t._v(" "),s("h4",{attrs:{id:"_1-lab2ディレクトリには、-etcにあった設定ファイルが複数コピーされています。このファイルの中から、server-という文字が含まれているファイルの一覧を表示してください。検索の際は大文字・小文字を区別せず、文字が含まれている行の行番号も表示してください"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-lab2ディレクトリには、-etcにあった設定ファイルが複数コピーされています。このファイルの中から、server-という文字が含まれているファイルの一覧を表示してください。検索の際は大文字・小文字を区別せず、文字が含まれている行の行番号も表示してください"}},[t._v("#")]),t._v(" 1. lab2ディレクトリには、/etcにあった設定ファイルが複数コピーされています。このファイルの中から、server という文字が含まれているファイルの一覧を表示してください。検索の際は大文字・小文字を区別せず、文字が含まれている行の行番号も表示してください")]),t._v(" "),s("details",{staticClass:"custom-block details"},[s("summary",[t._v("解答例")]),t._v(" "),s("p",[t._v("grep -in server *.conf")])]),t._v(" "),s("h4",{attrs:{id:"_1-先ほどの検索結果は何行あったでしょうか-wcコマンドに-l-オプションを付けると行数を表示できます。パイプをうまく使い、wcコマンドにgrepの結果を渡してください"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-先ほどの検索結果は何行あったでしょうか-wcコマンドに-l-オプションを付けると行数を表示できます。パイプをうまく使い、wcコマンドにgrepの結果を渡してください"}},[t._v("#")]),t._v(" 1. 先ほどの検索結果は何行あったでしょうか？ wcコマンドに -l オプションを付けると行数を表示できます。パイプをうまく使い、wcコマンドにgrepの結果を渡してください")]),t._v(" "),s("details",{staticClass:"custom-block details"},[s("summary",[t._v("解答例")]),t._v(" "),s("p",[t._v("grep server *.conf|wc -l")])]),t._v(" "),s("h4",{attrs:{id:"_1-先ほどの検索結果を、files-txtに追記してください。今回の追記の前に区切りの文字「-」を挿入してみましょう。区切り文字は、echo-を実行すると挿入できます。実行が終わったら、結果を確認してください"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-先ほどの検索結果を、files-txtに追記してください。今回の追記の前に区切りの文字「-」を挿入してみましょう。区切り文字は、echo-を実行すると挿入できます。実行が終わったら、結果を確認してください"}},[t._v("#")]),t._v(' 1. 先ほどの検索結果を、files.txtに追記してください。今回の追記の前に区切りの文字「-----」を挿入してみましょう。区切り文字は、echo "-----" を実行すると挿入できます。実行が終わったら、結果を確認してください')]),t._v(" "),s("details",{staticClass:"custom-block details"},[s("summary",[t._v("解答例")]),t._v(" "),s("p",[t._v('echo "-----" >> files.txt\n'),s("br"),t._v("\ngrep server *.conf >> files.txt\n"),s("br"),t._v("\ngrep server *.conf|wc -l >> files.txt\n"),s("br"),t._v("\ncat files.txt")])]),t._v(" "),s("h3",{attrs:{id:"演習-コマンドの連続実行"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#演習-コマンドの連続実行"}},[t._v("#")]),t._v(" 演習：コマンドの連続実行")]),t._v(" "),s("h4",{attrs:{id:"_1-これまで行った以下の作業を1行のコマンドで実行できるよう、連続実行してください。ただし、連続実行中にエラーが出た場合はそこで実行を停止するようにしてください。ファイル名は、files2-txt-としてください"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-これまで行った以下の作業を1行のコマンドで実行できるよう、連続実行してください。ただし、連続実行中にエラーが出た場合はそこで実行を停止するようにしてください。ファイル名は、files2-txt-としてください"}},[t._v("#")]),t._v(" 1. これまで行った以下の作業を1行のコマンドで実行できるよう、連続実行してください。ただし、連続実行中にエラーが出た場合はそこで実行を停止するようにしてください。ファイル名は、files2.txt としてください")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("現在時刻とユーザー情報の記録\nディレクトリ内のファイル一覧の記録\nserverという文字列を含んだファイルの表示、行数の確認と記録\n")])])]),s("details",{staticClass:"custom-block details"},[s("summary",[t._v("解答例")]),t._v(" "),s("p",[t._v('date > files2.txt && id >> files2.txt && ls -l >> files2.txt && echo "-----" >> files2.txt && grep -in server *.conf >> files2.txt && grep -in server *.conf|wc -l >> files2.txt')])]),t._v(" "),s("h3",{attrs:{id:"演習-エイリアス"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#演習-エイリアス"}},[t._v("#")]),t._v(" 演習：エイリアス")]),t._v(" "),s("h4",{attrs:{id:"_1-ところで、演習の最初でcpコマンドを何度か実施した際に、ファイルの上書き確認が出ませんでした。この動作はファイルを気づかず上書きしてしまうため危険です。すでに存在しているファイルを対象にcpコマンドを実行するときは上書き確認ができるように、cpコマンドにオプションを付けて実行してください。実行するコマンドは最初のと同じで構いません。大量にファイルを処理するので、途中で実行を止めても構いません"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-ところで、演習の最初でcpコマンドを何度か実施した際に、ファイルの上書き確認が出ませんでした。この動作はファイルを気づかず上書きしてしまうため危険です。すでに存在しているファイルを対象にcpコマンドを実行するときは上書き確認ができるように、cpコマンドにオプションを付けて実行してください。実行するコマンドは最初のと同じで構いません。大量にファイルを処理するので、途中で実行を止めても構いません"}},[t._v("#")]),t._v(" 1. ところで、演習の最初でcpコマンドを何度か実施した際に、ファイルの上書き確認が出ませんでした。この動作はファイルを気づかず上書きしてしまうため危険です。すでに存在しているファイルを対象にcpコマンドを実行するときは上書き確認ができるように、cpコマンドにオプションを付けて実行してください。実行するコマンドは最初のと同じで構いません。大量にファイルを処理するので、途中で実行を止めても構いません")]),t._v(" "),s("details",{staticClass:"custom-block details"},[s("summary",[t._v("解答例")]),t._v(" "),s("p",[t._v("cp -i /etc/*.conf .")])]),t._v(" "),s("h4",{attrs:{id:"_1-コピーの対象が多くある場合で、確実に上書きしてもいいときは-yes-コマンドとパイプを使って-y-の入力を自動化することもできます。以下のコマンドを実行して、上書き確認に-y-を自動応答してください"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-コピーの対象が多くある場合で、確実に上書きしてもいいときは-yes-コマンドとパイプを使って-y-の入力を自動化することもできます。以下のコマンドを実行して、上書き確認に-y-を自動応答してください"}},[t._v("#")]),t._v(" 1. コピーの対象が多くある場合で、確実に上書きしてもいいときは yes コマンドとパイプを使って y の入力を自動化することもできます。以下のコマンドを実行して、上書き確認に y を自動応答してください")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("yes|cp -i /etc/*.conf .\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("yesコマンドは、y と改行を標準出力に出力するコマンドで、シェルスクリプトでの自動化などに使います。もっともコマンドに -y オプションがある際は使わなくても構いません。ちなみに、yes コマンドを実行するとCPUの利用率が上がるため、簡易的な負荷試験でも利用されます")])]),t._v(" "),s("h4",{attrs:{id:"_1-ファイルをコピーする際は必ず上書き確認されるようにしたいです。cpと実行した際に、cp-i-オプション付きで実行されるよう、エイリアスを設定してください。設定できたら、エイリアス一覧を表示してください"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-ファイルをコピーする際は必ず上書き確認されるようにしたいです。cpと実行した際に、cp-i-オプション付きで実行されるよう、エイリアスを設定してください。設定できたら、エイリアス一覧を表示してください"}},[t._v("#")]),t._v(" 1. ファイルをコピーする際は必ず上書き確認されるようにしたいです。cpと実行した際に、cp -i オプション付きで実行されるよう、エイリアスを設定してください。設定できたら、エイリアス一覧を表示してください")]),t._v(" "),s("details",{staticClass:"custom-block details"},[s("summary",[t._v("解答例")]),t._v(" "),s("p",[t._v("alias cp='cp -i'\n"),s("br"),t._v("\nalias")])]),t._v(" "),s("h4",{attrs:{id:"_1-エイリアスの設定に問題がないか、コピーするファイルは何でも構わないので動作確認をしてください"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-エイリアスの設定に問題がないか、コピーするファイルは何でも構わないので動作確認をしてください"}},[t._v("#")]),t._v(" 1. エイリアスの設定に問題がないか、コピーするファイルは何でも構わないので動作確認をしてください")]),t._v(" "),s("details",{staticClass:"custom-block details"},[s("summary",[t._v("解答例")]),t._v(" "),s("p",[t._v("cp /etc/resolv.conf .\n"),s("br"),t._v("\n上書き確認が表示されればよい")])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("aliasコマンドで設定したエイリアスは操作中のシェルのみ有効なため、別のシェルを起動したりログアウトすると消えます。永続的にエイリアスを設定するには.bashrcなどの設定ファイルに書き込む必要があります")])]),t._v(" "),s("h4",{attrs:{id:"_1-rootユーザーでの作業は危険なため、一般ユーザーとは異なるエイリアスが設定されています。rootユーザーのエイリアス設定を確認してください。エイリアスは、rootユーザーのホームディレクトリ-root-にある-bashrc-に設定されています。なるべく少ない手順で確認できるよう、これまで学んだ手法を活用してください"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-rootユーザーでの作業は危険なため、一般ユーザーとは異なるエイリアスが設定されています。rootユーザーのエイリアス設定を確認してください。エイリアスは、rootユーザーのホームディレクトリ-root-にある-bashrc-に設定されています。なるべく少ない手順で確認できるよう、これまで学んだ手法を活用してください"}},[t._v("#")]),t._v(" 1. rootユーザーでの作業は危険なため、一般ユーザーとは異なるエイリアスが設定されています。rootユーザーのエイリアス設定を確認してください。エイリアスは、rootユーザーのホームディレクトリ（/root）にある .bashrc に設定されています。なるべく少ない手順で確認できるよう、これまで学んだ手法を活用してください")]),t._v(" "),s("details",{staticClass:"custom-block details"},[s("summary",[t._v("解答例")]),t._v(" "),s("p",[t._v("sudo cat /root/.bashrc|grep alias")])]),t._v(" "),s("h2",{attrs:{id:"演習終了"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#演習終了"}},[t._v("#")]),t._v(" 演習終了")]),t._v(" "),s("ul",[s("li",[t._v("以上で演習2は終了です。お疲れ様でした。早く終わった方は、復習や周りのメンバーのヘルプを行いましょう")])]),t._v(" "),s("hr"),t._v(" "),s("p",[s("RouterLink",{attrs:{to:"/intro/"}},[t._v("入門編の目次に戻る")]),t._v(" "),s("br")],1),t._v(" "),s("p",[s("RouterLink",{attrs:{to:"/"}},[t._v("トップページに戻る")])],1)])}),[],!1,null,null,null);s.default=e.exports}}]);